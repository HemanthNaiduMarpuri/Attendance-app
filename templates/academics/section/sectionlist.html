{% extends "admin/base_admin.html" %}
{% block title %}Sections{% endblock %}

{% block content %}
<div class="d-flex justify-content-between mb-3">
  <h4>Sections</h4>
  <a href="{% url 'section_create' %}" class="btn btn-primary btn-sm">
    + Add Section
  </a>
</div>

<form method="get" class="mb-3">
  <select name="semester_id" class="form-select w-25" onchange="this.form.submit()">
    <option value="">All Semesters</option>
    {% for sem in semesters %}
      <option value="{{ sem.id }}">{{ sem }}</option>
    {% endfor %}
  </select>
</form>

<div class="card shadow-sm">
<table class="table table-hover mb-0">
  <thead class="table-light">
    <tr>
      <th>Department</th>
      <th>Section</th>
      <th>Batch</th>
      <th>Semester</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for sec in sections %}
    <tr>
      <td>{{ sec.department_name }}</td>
      <td>{{ sec.section }}</td>
      <td>{{ sec.batch }}</td>
      <td>{{ sec.semester }}</td>
      <td class="text-end">
        <a href="{% url 'section_update' sec.id %}"
           class="btn btn-outline-secondary btn-sm">Edit</a>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="5" class="text-center">No sections found</td></tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
